<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="D3byEX 1.1"> 
  </head>
  <body>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script>

      var drag = d3.behavior.drag()
      .on("drag", function(d,i) {
        d.x += d3.event.dx
        d.y += d3.event.dy
        d3.select(this).attr("transform", function(d,i){
          return "translate(" + [ d.x,d.y ] + ")"
        })
      });
      
      const R = 80;
      const DW = 500;
      const DH = 350;
      const OFFX = DW/2;
      const OFFY = DH/2;
      
      var svg = d3.select('body')
        .append('svg')
        .attr("id", "desk")
        .attr("width", DW)
        .attr("height", DH)
      ;
      
     var pool =  svg.append("g")
       .attr("transform", "translate(" + OFFX + "," + OFFY + ")")
       .data([ {"x":OFFX, "y":OFFY} ])
       .attr("class", "blob")
       .call(drag)
     ;
    var abox = pool.append("circle")
                .attr("class", "cont")
                .attr("fill", "black")
                .attr("fill-opacity", .8)
                .attr("stroke", "#000")
                .attr("stroke-width", 4)
                .attr("r", R);
      ;
      var adat = pool.append("circle")
      .attr("class", "row")
      .attr("stroke", "red")
      .attr("fill", "purple")
      .attr("stroke-width", 4)
      .attr("transform", "translate(" + [-R/2.5, -R/3] + ")")
      .attr("r", R/3);
       
      var text = pool.append("text")
      .text("Compree")
      .attr("y", ".5em")
      .attr("transform", "translate(" + [0, R/3] + ")")
      .attr("text-anchor", "middle")
      .attr("font-weight", 700)
      .attr("font-family", "Helvetica")
      .attr("fill", "#ff0")
      .attr("stroke", "none")
      .attr("pointer-events", "none") 
      ;
    </script>
  </body>
</html>
